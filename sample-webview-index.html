<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0, maximum-scale=1"
    />
    <title>Popin</title>
  </head>

  <body class="antialiased">
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <center><a href="#" onclick="Popin('open')"> Open widget </a></center>
    <script>
      let popIn = document.createElement("script");
      popIn.setAttribute("src", "https://widget01.popin.to/js/widget.js");
      document.body.appendChild(popIn);
      popIn.onload = () => {
        popInWidgetInit({
          token: "12975",
          mode: "hidden",
          type: 2,
          groupId: "GROUP-112",
          scheduleId: 778,
          captured: {
            name: "BOOKING_ID",
            campaign: {
              callerId: "Anubhav",
              customerId: "10084677757",
              url: "https://www.cars24.com/sell-used-cars",
            },
          },
        });
      };

      window.popinEvent = (event, data) => {
        switch (event) {
          case "popin_open":
            console.log("Popin Event", event, data);
            break;
          case "popin_navigated":
            console.log("Popin Event", event, data);
            break;
          case "popin_permission_given":
            console.log("Popin Event", event, data);
            break;
          case "popin_permission_denied":
            console.log("Popin Event", event, data);
            break;
          case "popin_call_start":
            console.log("Popin Event", event, data);
            break;
          case "popin_call_end":
            console.log("Popin Event", event, data);
            break;
          case "popin_expert_busy":
            console.log("Popin Event", event, data);
            break;
          case "popin_close":
            console.log("Popin Event", event, data);
            break;
        }
      };
    </script>
  </body>
</html>
